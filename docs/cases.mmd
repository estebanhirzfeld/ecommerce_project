graph LR
    subgraph Actors
        Visitor["Usuario Visitante"]
        User["Usuario Registrado"]
        Admin["Administrador"]
    end

    subgraph System["Sistema de Carrito de Compras"]
        UC1(("Registrarse"))
        UC2(("Iniciar Sesión"))
        UC3(("Buscar Productos"))
        UC4(("Ver Detalle de Producto"))
        UC5(("Agregar al Carrito"))
        UC6(("Gestionar Carrito"))
        UC7(("Realizar Compra"))
        UC8(("Ver Historial de Compras"))
        UC9(("Gestionar Productos"))
        UC10(("Gestionar Órdenes"))
        UC11(("Aplicar Cupón"))
        UC12(("Dejar Review"))
        UC13(("Gestionar Wishlist"))
        UC14(("Administrar Cupones"))
    end

    Visitor --> UC1
    Visitor --> UC2
    Visitor --> UC3
    Visitor --> UC4
    Visitor --> UC5
    Visitor --> UC6

    User --> UC2
    User --> UC3
    User --> UC4
    User --> UC5
    User --> UC6
    User --> UC7
    User --> UC8
    User --> UC11
    User --> UC12
    User --> UC13

    Admin --> UC2
    Admin --> UC9
    Admin --> UC10
    Admin --> UC14

    UC7 -.->|include| UC2
    UC7 -.->|extend| UC11

    style Visitor fill:#f9f,stroke:#333,stroke-width:2px
    style User fill:#ccf,stroke:#333,stroke-width:2px
    style Admin fill:#ff9,stroke:#333,stroke-width:2px
